# TeamT5_test

筆試題目:
【寫一個script，可以在672往大鵬新城方向的公車，到達博仁醫院前3~5站時發出通知(語言/通知方法不限)】

設計方向如下:

可以設計一個 api service 給 app 開發人員，提供以下功能給使用者:     
查詢特定公車到每站的時間   
註冊想要關注的公車和到特定站點的提醒     
提醒方式可以用 email (讓使用者輸入)，也可以考慮多重使用者的情境

############################

my idea:
- （網頁）用戶可以註冊多號公車、這個公車到哪個站點要提醒
- insert db (?) 用戶輸入的資訊
- 每幾分鐘會檢查一次公車動向，並發送 email 通知


API 結構：
1. 系統架構：
利用 Ｐython Flask 作為 API 的主要框架，使用者的請求將通過 HTTP 協議發送，當 API 收到請求，將回應客戶端。

2. Data flows：
i. 客戶端向 API 發送 GET 或是 POST 請求
ii. API 接收請求，並執行相對應的處理
iii. API 可能會和外部系統 (郵件) 交流，以發送通知給使用者
iv. 最後根據處理結果，將回應發送回客戶端

3. User Case
i. 查詢公車到站時間
使用者發送 GET 請求到 `/bus` 端點，並提供公車編號作為參數。
API 服務接收請求，檢查公車編號是否有效。
如果有效，API服務將回傳公車到每站的時間列表。
如果無效，API服務將回傳錯誤訊息。

ii. 註冊 (追蹤) 想要關注的公車
使用者發送 POST 請求到 `/subscribe` 端點，並提供 使用者ID、公車編號、站點 和 電子郵件 作為資料。
API 服務接收請求，檢查資料的完整性和有效性。
如果資料有效，API 服務將保存使用者的訂閱資料。(資料庫)
API 服務會在背景定期檢查 (crontab) 公車時間，並根據訂閱資料發送提醒郵件給使用者。

4. 系統的架構 (物件) （可能要再畫個架構圖）
- 使用者訂閱 (追蹤) 公車的網頁：可以輸入哪號公車、到哪站前通知
- 公車時間檢查器：負責定期檢查公車到站時間，並發送提醒的物件
- 郵件寄送器：用於發送提醒郵件的物件

5. 可優化方向：

############################

TODO：
- 註冊頁面
- 設計資料庫 for 儲存使用者追蹤站點 & email
- 公車到站時間的資料庫
- 刪除註冊的公車，停止提醒
